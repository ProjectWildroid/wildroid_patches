From 515a43716d3a0a060b3411d2b5e13ce939944274 Mon Sep 17 00:00:00 2001
From: Yumi Yukimura <me.cafebabe@gmail.com>
Date: Sun, 20 Jul 2025 06:40:20 +0800
Subject: [PATCH 7/7] Expose gbm_get_default_device_fd()

Change-Id: I092751551a4feecd9fa1175108e4520db595b2f4
---
 minigbm_helpers.c | 2 +-
 minigbm_helpers.h | 2 ++
 2 files changed, 3 insertions(+), 1 deletion(-)

diff --git a/minigbm_helpers.c b/minigbm_helpers.c
index 95e261a..5fa7eaa 100644
--- a/minigbm_helpers.c
+++ b/minigbm_helpers.c
@@ -213,7 +213,7 @@ done:
 	return 0;
 }
 
-static int gbm_get_default_device_fd(void)
+PUBLIC int gbm_get_default_device_fd(void)
 {
 	DIR *dir;
 	int ret, fd, dfd = -1;
diff --git a/minigbm_helpers.h b/minigbm_helpers.h
index dbbb644..ac92678 100644
--- a/minigbm_helpers.h
+++ b/minigbm_helpers.h
@@ -40,6 +40,8 @@ int gbm_detect_device_info_path(unsigned int detect_flags, const char *dev_node,
  */
 struct gbm_device *minigbm_create_default_device(int *out_fd);
 
+int gbm_get_default_device_fd(void);
+
 #ifdef __cplusplus
 }
 #endif
-- 
2.39.5

